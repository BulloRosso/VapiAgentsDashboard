# VAPI Example Cockpit

A cockpit to view and control the current activity of VAPI voice agents.

[/doc/doc-1.png|Architecture]

## Tech Stack
* React/Vite/shadcn
* Express/node.js
* Supabase

## UI
[/doc/doc-2.png|Main tab]

## Supabase Data Objects

### VAPI Agents to supervise
```
create table public.vapi_scheduled_calls (
  id bigint generated by default as identity not null,
  created_at timestamp with time zone not null default now(),
  agent_name text null,
  call_time timestamp with time zone null,
  topic text null,
  phone_number text null,
  customer_name text null,
  is_done boolean null default false,
  constraint vapi_scheduled_calls_pkey primary key (id)
) TABLESPACE pg_default;
```

### Scheduled Calls
```
create table public.vapi_scheduled_calls (
  id bigint generated by default as identity not null,
  created_at timestamp with time zone not null default now(),
  agent_name text null,
  call_time timestamp with time zone null,
  topic text null,
  phone_number text null,
  customer_name text null,
  is_done boolean null default false,
  constraint vapi_scheduled_calls_pkey primary key (id)
) TABLESPACE pg_default;
```

### Call Log
```
create table public.vapi_logs (
  id bigint generated by default as identity not null,
  created_at timestamp with time zone not null default now(),
  status text null default 'in-progress'::text,
  agent_id text null,
  duration_seconds smallint null,
  messages text null,
  summary text null,
  costs real null default '0'::real,
  call_id text null,
  schedule_item_id bigint null,
  constraint vapi_logs_pkey primary key (id),
  constraint vapi_logs_call_id_key unique (call_id),
  constraint vapi_logs_schedule_item_id_fkey foreign KEY (schedule_item_id) references vapi_scheduled_calls (id)
) TABLESPACE pg_default;
```

## API Endpoints
[Documentation](API.md "ALT TEXT")